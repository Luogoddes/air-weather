{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\thread-loader\\dist\\cjs.js!E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\vue\\screen-vue-datav\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\code\\vue\\screen-vue-datav\\src\\utils\\drawMixin.js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\utils\\drawMixin.js","mtime":1710123821000},{"path":"E:\\code\\vue\\screen-vue-datav\\babel.config.js","mtime":1710123821000},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\eslint-loader\\index.js","mtime":1716778784052}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8g5bGP5bmV6YCC6YWNIG1peGluIOWHveaVsAoKLy8gKiDpu5jorqTnvKnmlL7lgLwKdmFyIHNjYWxlID0gewogIHdpZHRoOiAnMScsCiAgaGVpZ2h0OiAnMScKfTsKCi8vICog6K6+6K6h56i/5bC65a+477yIcHjvvIkKdmFyIGJhc2VXaWR0aCA9IDE5MjA7CnZhciBiYXNlSGVpZ2h0ID0gMTA4MDsKCi8vICog6ZyA5L+d5oyB55qE5q+U5L6L77yI6buY6K6kMS43Nzc3OO+8iQp2YXIgYmFzZVByb3BvcnRpb24gPSBwYXJzZUZsb2F0KChiYXNlV2lkdGggLyBiYXNlSGVpZ2h0KS50b0ZpeGVkKDUpKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyAqIOWumuaXtuWHveaVsAogICAgICBkcmF3VGltaW5nOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY2FsY1JhdGUoKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGNSYXRlOiBmdW5jdGlvbiBjYWxjUmF0ZSgpIHsKICAgICAgdmFyIGFwcFJlZiA9IHRoaXMuJHJlZnNbImFwcFJlZiJdOwogICAgICBpZiAoIWFwcFJlZikgcmV0dXJuOwogICAgICAvLyDlvZPliY3lrr3pq5jmr5QKICAgICAgdmFyIGN1cnJlbnRSYXRlID0gcGFyc2VGbG9hdCgod2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQpLnRvRml4ZWQoNSkpOwogICAgICBpZiAoYXBwUmVmKSB7CiAgICAgICAgaWYgKGN1cnJlbnRSYXRlID4gYmFzZVByb3BvcnRpb24pIHsKICAgICAgICAgIC8vIOihqOekuuabtOWuvQogICAgICAgICAgc2NhbGUud2lkdGggPSAod2luZG93LmlubmVySGVpZ2h0ICogYmFzZVByb3BvcnRpb24gLyBiYXNlV2lkdGgpLnRvRml4ZWQoNSk7CiAgICAgICAgICBzY2FsZS5oZWlnaHQgPSAod2luZG93LmlubmVySGVpZ2h0IC8gYmFzZUhlaWdodCkudG9GaXhlZCg1KTsKICAgICAgICAgIGFwcFJlZi5zdHlsZS50cmFuc2Zvcm0gPSAic2NhbGUoIi5jb25jYXQoc2NhbGUud2lkdGgsICIsICIpLmNvbmNhdChzY2FsZS5oZWlnaHQsICIpIHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDooajnpLrmm7Tpq5gKICAgICAgICAgIHNjYWxlLmhlaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAvIGJhc2VQcm9wb3J0aW9uIC8gYmFzZUhlaWdodCkudG9GaXhlZCg1KTsKICAgICAgICAgIHNjYWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gYmFzZVdpZHRoKS50b0ZpeGVkKDUpOwogICAgICAgICAgYXBwUmVmLnN0eWxlLnRyYW5zZm9ybSA9ICJzY2FsZSgiLmNvbmNhdChzY2FsZS53aWR0aCwgIiwgIikuY29uY2F0KHNjYWxlLmhlaWdodCwgIikgdHJhbnNsYXRlKC01MCUsIC01MCUpIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRyYXdUaW1pbmcpOwogICAgICB0aGlzLmRyYXdUaW1pbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jYWxjUmF0ZSgpOwogICAgICB9LCAyMDApOwogICAgfQogIH0KfTs="},{"version":3,"names":["scale","width","height","baseWidth","baseHeight","baseProportion","parseFloat","toFixed","data","drawTiming","mounted","calcRate","window","addEventListener","resize","beforeDestroy","removeEventListener","methods","appRef","$refs","currentRate","innerWidth","innerHeight","style","transform","concat","_this","clearTimeout","setTimeout"],"sources":["E:/code/vue/screen-vue-datav/src/utils/drawMixin.js"],"sourcesContent":["// 屏幕适配 mixin 函数\n\n// * 默认缩放值\nconst scale = {\n  width: '1',\n  height: '1',\n}\n\n// * 设计稿尺寸（px）\nconst baseWidth = 1920\nconst baseHeight = 1080\n\n// * 需保持的比例（默认1.77778）\nconst baseProportion = parseFloat((baseWidth / baseHeight).toFixed(5))\n\nexport default {\n  data() {\n    return {\n      // * 定时函数\n      drawTiming: null\n    }\n  },\n  mounted () {\n    this.calcRate()\n    window.addEventListener('resize', this.resize)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.resize)\n  },\n  methods: {\n    calcRate () {\n      const appRef = this.$refs[\"appRef\"]\n      if (!appRef) return \n      // 当前宽高比\n      const currentRate = parseFloat((window.innerWidth / window.innerHeight).toFixed(5))\n      if (appRef) {\n        if (currentRate > baseProportion) {\n          // 表示更宽\n          scale.width = ((window.innerHeight * baseProportion) / baseWidth).toFixed(5)\n          scale.height = (window.innerHeight / baseHeight).toFixed(5)\n          appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\n        } else {\n          // 表示更高\n          scale.height = ((window.innerWidth / baseProportion) / baseHeight).toFixed(5)\n          scale.width = (window.innerWidth / baseWidth).toFixed(5)\n          appRef.style.transform = `scale(${scale.width}, ${scale.height}) translate(-50%, -50%)`\n        }\n      }\n    },\n    resize () {\n      clearTimeout(this.drawTiming)\n      this.drawTiming = setTimeout(() => {\n        this.calcRate()\n      }, 200)\n    }\n  },\n}"],"mappings":";;AAAA;;AAEA;AACA,IAAMA,KAAK,GAAG;EACZC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE;AACV,CAAC;;AAED;AACA,IAAMC,SAAS,GAAG,IAAI;AACtB,IAAMC,UAAU,GAAG,IAAI;;AAEvB;AACA,IAAMC,cAAc,GAAGC,UAAU,CAAC,CAACH,SAAS,GAAGC,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC,CAAC;AAEtE,eAAe;EACbC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACL;MACAC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAI;IACT,IAAI,CAACC,QAAQ,CAAC,CAAC;IACfC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,MAAM,CAAC;EAChD,CAAC;EACDC,aAAa,WAAAA,cAAA,EAAI;IACfH,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,MAAM,CAAC;EACnD,CAAC;EACDG,OAAO,EAAE;IACPN,QAAQ,WAAAA,SAAA,EAAI;MACV,IAAMO,MAAM,GAAG,IAAI,CAACC,KAAK,CAAC,QAAQ,CAAC;MACnC,IAAI,CAACD,MAAM,EAAE;MACb;MACA,IAAME,WAAW,GAAGd,UAAU,CAAC,CAACM,MAAM,CAACS,UAAU,GAAGT,MAAM,CAACU,WAAW,EAAEf,OAAO,CAAC,CAAC,CAAC,CAAC;MACnF,IAAIW,MAAM,EAAE;QACV,IAAIE,WAAW,GAAGf,cAAc,EAAE;UAChC;UACAL,KAAK,CAACC,KAAK,GAAG,CAAEW,MAAM,CAACU,WAAW,GAAGjB,cAAc,GAAIF,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UAC5EP,KAAK,CAACE,MAAM,GAAG,CAACU,MAAM,CAACU,WAAW,GAAGlB,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC3DW,MAAM,CAACK,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAYzB,KAAK,CAACC,KAAK,QAAAwB,MAAA,CAAKzB,KAAK,CAACE,MAAM,4BAAyB;QACzF,CAAC,MAAM;UACL;UACAF,KAAK,CAACE,MAAM,GAAG,CAAEU,MAAM,CAACS,UAAU,GAAGhB,cAAc,GAAID,UAAU,EAAEG,OAAO,CAAC,CAAC,CAAC;UAC7EP,KAAK,CAACC,KAAK,GAAG,CAACW,MAAM,CAACS,UAAU,GAAGlB,SAAS,EAAEI,OAAO,CAAC,CAAC,CAAC;UACxDW,MAAM,CAACK,KAAK,CAACC,SAAS,YAAAC,MAAA,CAAYzB,KAAK,CAACC,KAAK,QAAAwB,MAAA,CAAKzB,KAAK,CAACE,MAAM,4BAAyB;QACzF;MACF;IACF,CAAC;IACDY,MAAM,WAAAA,OAAA,EAAI;MAAA,IAAAY,KAAA;MACRC,YAAY,CAAC,IAAI,CAAClB,UAAU,CAAC;MAC7B,IAAI,CAACA,UAAU,GAAGmB,UAAU,CAAC,YAAM;QACjCF,KAAI,CAACf,QAAQ,CAAC,CAAC;MACjB,CAAC,EAAE,GAAG,CAAC;IACT;EACF;AACF,CAAC","ignoreList":[]}]}