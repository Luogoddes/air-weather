{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\vue\\screen-vue-datav\\src\\views\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\views\\index.vue","mtime":1716854865612},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js","mtime":1716778785207}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgppbXBvcnQgeyBwY2FUZXh0QXJyIH0gZnJvbSAiZWxlbWVudC1jaGluYS1hcmVhLWRhdGEiOy8v5LiJ57qn6IGU5Yqo77yI55yB44CB5biC44CB5Yy677yJCi8vaW1wb3J0IHJlZ2lvbiBmcm9tICIuLi9jb21wb25lbnRzL3JlZ2lvbi52dWUiOwppbXBvcnQgZHJhd01peGluIGZyb20gIi4uL3V0aWxzL2RyYXdNaXhpbiI7CmltcG9ydCB7IGZvcm1hdFRpbWUgfSBmcm9tICcuLi91dGlscy9pbmRleC5qcycKaW1wb3J0IGNlbnRlckxlZnQxIGZyb20gJy4vY2VudGVyTGVmdDEnCmltcG9ydCBjZW50ZXJMZWZ0MiBmcm9tICcuL2NlbnRlckxlZnQyJwppbXBvcnQgY2VudGVyUmlnaHQxIGZyb20gJy4vY2VudGVyUmlnaHQxJwppbXBvcnQgY2VudGVyUmlnaHQyIGZyb20gJy4vY2VudGVyUmlnaHQyJwppbXBvcnQgY2VudGVyIGZyb20gJy4vY2VudGVyJwppbXBvcnQgYm90dG9tTGVmdCBmcm9tICcuL2JvdHRvbUxlZnQnCmltcG9ydCBib3R0b21SaWdodCBmcm9tICcuL2JvdHRvbVJpZ2h0JwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2RyYXdNaXhpbl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpbWluZzogbnVsbCwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZGF0ZURheTogbnVsbCwKICAgICAgZGF0ZVllYXI6IG51bGwsCiAgICAgIGRhdGVXZWVrOiBudWxsLAogICAgICB3ZWVrZGF5OiBbJ+WRqOaXpScsICflkajkuIAnLCAn5ZGo5LqMJywgJ+WRqOS4iScsICflkajlm5snLCAn5ZGo5LqUJywgJ+WRqOWFrSddLAogICAgICBkZWNvcmF0aW9uQ29sb3I6IFsnIzU2OGFlYScsICcjMDAwMDAwJ10sCiAgICAgIHBjYVRleHRBcnIsCiAgICAgIHNlbGVjdGVkT3B0aW9uczogW10sLy/kuInnuqfogZTliqjvvIjnnIHjgIHluILjgIHljLrvvIkKICAgICAgZGlhbG9nUmVnaW9uVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlZ2lvbjp7CiAgICAgICAgbmFtZTpudWxsLAogICAgICAgIGlkOm51bGwsCiAgICAgICAgaXA6dGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRSZWdpb25JcCwKICAgICAgICBsYXQ6bnVsbCwKICAgICAgICBsb246bnVsbCwKICAgICAgICBKV0Q6bnVsbAogICAgICB9LAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgY2VudGVyTGVmdDEsCiAgICBjZW50ZXJMZWZ0MiwKICAgIGNlbnRlclJpZ2h0MSwKICAgIGNlbnRlclJpZ2h0MiwKICAgIGNlbnRlciwKICAgIGJvdHRvbUxlZnQsCiAgICBib3R0b21SaWdodAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudGltZUZuKCkKICAgIHRoaXMuY2FuY2VsTG9hZGluZygpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWluZykKICB9LAogIG1ldGhvZHM6IHsKICAgIHRpbWVGbigpIHsKICAgICAgdGhpcy50aW1pbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5kYXRlRGF5ID0gZm9ybWF0VGltZShuZXcgRGF0ZSgpLCAnSEg6IG1tOiBzcycpCiAgICAgICAgdGhpcy5kYXRlWWVhciA9IGZvcm1hdFRpbWUobmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKQogICAgICAgIHRoaXMuZGF0ZVdlZWsgPSB0aGlzLndlZWtkYXlbbmV3IERhdGUoKS5nZXREYXkoKV0KICAgICAgfSwgMTAwMCkKICAgIH0sCiAgICBjYW5jZWxMb2FkaW5nKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9LCA1MDApCiAgICB9LAogICAgc2F2ZURhdGEoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBPcHRpb25zOicsIHRoaXMuc2VsZWN0ZWRPcHRpb25zWzJdKQogICAgICAvLyDpppblhYjliKTmlq0gc2VsZWN0ZWRPcHRpb25zIOaYr+WQpuS4uuepugogICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoPT0wKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6npgInpobknKQogICAgICB9ZWxzZXsKICAgICAgICAvLyDosIPnlKggZ2V0R2VvSW5mbyDmlrnms5UKICAgICAgICB0aGlzLmdldEdlb0luZm8odGhpcy5zZWxlY3RlZE9wdGlvbnMpCiAgICAgIH0KCiAgICB9LAogICAgZ2V0R2VvSW5mbyhsb2NhdGlvbikgewogICAgICBheGlvcy5nZXQoYGh0dHBzOi8vZ2VvYXBpLnF3ZWF0aGVyLmNvbS92Mi9jaXR5L2xvb2t1cD9sb2NhdGlvbj0ke2xvY2F0aW9ufSZrZXk9NWYwMTdjNmQ3ZWRiNGE3YmE5ZmU0ZjQ5MWEyOTAwY2FgKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCByZWdpb249IHJlc3BvbnNlLmRhdGEubG9jYXRpb24KICAgICAgICAgIGNvbnNvbGUubG9nKCJpbmRleC1nZXRHZW9JbmZvIik7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlZ2lvbikKICAgICAgICAgIC8vIOafpeaJvuWMuemFjSB0aGlzLnNlbGVjdGVkT3B0aW9uc1syXSDnmoTlhYPntKAKICAgICAgICAgIGxldCBzZWxlY3RlZFJlZ2lvbiA9IHJlZ2lvbi5maW5kKGl0ZW0gPT4gaXRlbS5uYW1lID09IGxvY2F0aW9uWzJdLnJlcGxhY2UoL+WMuiR85Y6/JHzluIIkLywgJycpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkUmVnaW9uKQogICAgICAgICAgaWYgKHNlbGVjdGVkUmVnaW9uKSB7CiAgICAgICAgICAgIC8v6I635Y+W6ZyA6KaB55qE5bGe5oCn5YC8CiAgICAgICAgICAgIHRoaXMucmVnaW9uLm5hbWUgPSBsb2NhdGlvblswXStsb2NhdGlvblsxXStsb2NhdGlvblsyXTsKICAgICAgICAgICAgdGhpcy5yZWdpb24uaWQgPSBzZWxlY3RlZFJlZ2lvbi5pZAogICAgICAgICAgICB0aGlzLnJlZ2lvbi5sYXQgPSBzZWxlY3RlZFJlZ2lvbi5sYXQKICAgICAgICAgICAgdGhpcy5yZWdpb24ubG9uID0gc2VsZWN0ZWRSZWdpb24ubG9uCiAgICAgICAgICAgIHRoaXMucmVnaW9uLkpXRD0gc2VsZWN0ZWRSZWdpb24ubGF0KycsJytzZWxlY3RlZFJlZ2lvbi5sb24KCiAgICAgICAgICAgIC8vIOS/neWtmOWIsGNvb2tpZQogICAgICAgICAgICB0aGlzLiRjb29raWUuc2V0KCJyZWdpb24iLCBKU09OLnN0cmluZ2lmeSh0aGlzLnJlZ2lvbikpCgogICAgICAgICAgICAvLyDkv53lrZjliLB2dWV4CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TG9jYXRpb25EYXRhJywgdGhpcy5yZWdpb24pCgogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZWdpb24gbm90IGZvdW5kJykKICAgICAgICAgIH0KICAgICAgICAgIC8vdGhpcy5zdG9yZURhdGEoKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGdlbyBpbmZvOicsIGVycm9yKQogICAgICAgIH0pCiAgICB9LAogICAgc3RvcmVEYXRhKCkgewogICAgICAvLyDlnKjov5nph4zlrp7njrDkv53lrZjmlbDmja7nmoTpgLvovpEKICAgICAgY29uc29sZS5sb2coJ+aVsOaNruW3suS/neWtmCcpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"index\" ref=\"appRef\">\n    <div class=\"bg\">\n      <dv-loading v-if=\"loading\">Loading...</dv-loading>\n      <div v-else class=\"host-body\">\n        <div class=\"d-flex jc-center\">\n          <dv-decoration-10 class=\"dv-dec-10\" />\n          <div class=\"d-flex jc-center\">\n            <dv-decoration-8 class=\"dv-dec-8\" :color=\"decorationColor\" />\n            <div class=\"title\">\n              <span class=\"title-text\">全方位天气状况监控</span>\n              <dv-decoration-6 class=\"dv-dec-6\" :reverse=\"true\" :color=\"['#50e3c2', '#67a1e5']\" />\n            </div>\n            <dv-decoration-8 class=\"dv-dec-8\" :reverse=\"true\" :color=\"decorationColor\" />\n          </div>\n          <dv-decoration-10 class=\"dv-dec-10-s\" />\n        </div>\n\n        <!-- 第二行 -->\n        <div class=\"d-flex jc-between px-2\">\n          <div class=\"d-flex aside-width\">\n            <div class=\"react-left ml-4 react-l-s\">\n              <span class=\"react-left\"></span>\n              <span class=\"text\">地区：\n                <el-cascader size=\"large\" :options=\"pcaTextArr\" v-model=\"selectedOptions\" \n                style=\"width: 300px;background-color: #ffffff14 !important;\">\n                </el-cascader>\n                <el-link @click=\"saveData()\" type=\"primary\" style=\"margin-left: 10px;font-size: large;\">保存</el-link>\n                \n              </span>\n\n            </div>\n            <div class=\"react-left ml-3\">\n              <span class=\"text\">\n                {{ this.$store.getters.getRegionIp }}\n              </span>\n\n            </div>\n          </div>\n          <div class=\"d-flex aside-width\">\n            <div class=\"react-right bg-color-blue mr-3\">\n              <span class=\"text fw-b\">\n                {{ this.$store.getters.getRegionName }}\n              </span>\n            </div>\n            <div class=\"react-right mr-4 react-l-s\">\n              <span class=\"react-after\"></span>\n              <span class=\"text\">{{ dateYear }} {{ dateWeek }} {{ dateDay }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"body-box\">\n          <!-- 第三行数据 -->\n          <div class=\"content-box\">\n            <div>\n              <dv-border-box-12>\n                <centerLeft1 />\n              </dv-border-box-12>\n            </div>\n            <div>\n              <dv-border-box-12>\n                <centerLeft2 />\n              </dv-border-box-12>\n            </div>\n            <!-- 中间 -->\n            <div>\n              <center />\n            </div>\n            <!-- 中间 -->\n            <div>\n              <centerRight2 />\n            </div>\n            <div>\n              <dv-border-box-13>\n                <centerRight1 />\n              </dv-border-box-13>\n            </div>\n          </div>\n\n          <!-- 第四行数据 -->\n          <div class=\"bottom-box\">\n            <dv-border-box-13>\n              <bottomLeft />\n            </dv-border-box-13>\n            <dv-border-box-12>\n              <bottomRight />\n            </dv-border-box-12>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { pcaTextArr } from \"element-china-area-data\";//三级联动（省、市、区）\n//import region from \"../components/region.vue\";\nimport drawMixin from \"../utils/drawMixin\";\nimport { formatTime } from '../utils/index.js'\nimport centerLeft1 from './centerLeft1'\nimport centerLeft2 from './centerLeft2'\nimport centerRight1 from './centerRight1'\nimport centerRight2 from './centerRight2'\nimport center from './center'\nimport bottomLeft from './bottomLeft'\nimport bottomRight from './bottomRight'\n\nexport default {\n  mixins: [drawMixin],\n  data() {\n    return {\n      timing: null,\n      loading: true,\n      dateDay: null,\n      dateYear: null,\n      dateWeek: null,\n      weekday: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n      decorationColor: ['#568aea', '#000000'],\n      pcaTextArr,\n      selectedOptions: [],//三级联动（省、市、区）\n      dialogRegionVisible: false,\n      region:{\n        name:null,\n        id:null,\n        ip:this.$store.getters.getRegionIp,\n        lat:null,\n        lon:null,\n        JWD:null\n      },\n    }\n  },\n  components: {\n    centerLeft1,\n    centerLeft2,\n    centerRight1,\n    centerRight2,\n    center,\n    bottomLeft,\n    bottomRight\n  },\n  mounted() {\n    this.timeFn()\n    this.cancelLoading()\n  },\n  beforeDestroy() {\n    clearInterval(this.timing)\n  },\n  methods: {\n    timeFn() {\n      this.timing = setInterval(() => {\n        this.dateDay = formatTime(new Date(), 'HH: mm: ss')\n        this.dateYear = formatTime(new Date(), 'yyyy-MM-dd')\n        this.dateWeek = this.weekday[new Date().getDay()]\n      }, 1000)\n    },\n    cancelLoading() {\n      setTimeout(() => {\n        this.loading = false\n      }, 500)\n    },\n    saveData() {\n      console.log('Selected Options:', this.selectedOptions[2])\n      // 首先判断 selectedOptions 是否为空\n      if (this.selectedOptions.length==0) {\n        this.$message.warning('请选择选项')\n      }else{\n        // 调用 getGeoInfo 方法\n        this.getGeoInfo(this.selectedOptions)\n      }\n\n    },\n    getGeoInfo(location) {\n      axios.get(`https://geoapi.qweather.com/v2/city/lookup?location=${location}&key=5f017c6d7edb4a7ba9fe4f491a2900ca`)\n        .then(response => {\n          let region= response.data.location\n          console.log(\"index-getGeoInfo\");\n          //console.log(region)\n          // 查找匹配 this.selectedOptions[2] 的元素\n          let selectedRegion = region.find(item => item.name == location[2].replace(/区$|县$|市$/, ''));\n          console.log(selectedRegion)\n          if (selectedRegion) {\n            //获取需要的属性值\n            this.region.name = location[0]+location[1]+location[2];\n            this.region.id = selectedRegion.id\n            this.region.lat = selectedRegion.lat\n            this.region.lon = selectedRegion.lon\n            this.region.JWD= selectedRegion.lat+','+selectedRegion.lon\n\n            // 保存到cookie\n            this.$cookie.set(\"region\", JSON.stringify(this.region))\n\n            // 保存到vuex\n            this.$store.commit('setLocationData', this.region)\n\n            this.$message.success('保存成功')\n          } else {\n            console.error('Region not found')\n          }\n          //this.storeData()\n        })\n        .catch(error => {\n          console.error('Error fetching geo info:', error)\n        })\n    },\n    storeData() {\n      // 在这里实现保存数据的逻辑\n      console.log('数据已保存')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.el-input__inner {\n  background-color: transparent !important;\n  color: aliceblue;\n}\n@import '../assets/scss/index.scss';\n\n</style>\n"]}]}