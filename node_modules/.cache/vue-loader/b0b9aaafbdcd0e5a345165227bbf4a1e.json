{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\vue\\screen-vue-datav\\src\\components\\echart\\bottom\\bottomLeftChart\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\components\\echart\\bottom\\bottomLeftChart\\index.vue","mtime":1718261325962},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js","mtime":1716778785207}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0LnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgcmVnaW9uOiBzdGF0ZSA9PiBzdGF0ZS5yZWdpb24sCiAgICB9KSwKICB9LAogIHdhdGNoOiB7CiAgICAncmVnaW9uLmlkJzogZnVuY3Rpb24gKG5ld0lkKSB7CiAgICAgIGlmIChuZXdJZCkgewogICAgICAgIC8vYWxlcnQoInRlbXA3ZGF5IOebkeWQrOWIsOWcsOWMuuWAvOaUueWPmO+8jOW8gOWni+i9ruivouaVsOaNrjoiICsgbmV3SWQpCiAgICAgICAgdGhpcy5nZXRXZWF0aGVySW5mbyhuZXdJZCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5yZWdpb24uaWQpIHsKICAgICAgLy9hbGVydCgidGVtcDdkYXR5IOaciSIpCiAgICAgIHRoaXMuZ2V0V2VhdGhlckluZm8odGhpcy5yZWdpb24uaWQpOwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vd0RhdGE6IHsKICAgICAgICB0aW1lOiBbXSwgICAgIC8v5pe26Ze0CiAgICAgICAgdGV4dERheTogW10sICAvL+eZveWkqeWkqeawlOaPj+i/sAogICAgICAgIHdpbmREaXJEYXlfd2luZFNjYWxlRGF5OiBbXSwgIC8v6aOO5ZCR6aOO6YCfCiAgICAgICAgdGVtcE1heDogW10sICAvL+acgOmrmOawlOa4qQogICAgICAgIHRlbXBNaW46IFtdLCAgLy/mnIDkvY7msJTmuKkKICAgICAgICBwcmVjaXA6IFtdLCAgIC8v6ZmN6Zuo6YePCiAgICAgICAgdXZJbmRleDogW10sICAvL+e0q+Wklue6v+W8uuW6pgogICAgICB9LAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0LAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0V2VhdGhlckluZm8obG9jYXRpb24pIHsKICAgICAgLy9jb25zdCBsb2NhdGlvbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UmVnaW9uSWQ7CiAgICAgIC8vYWxlcnQoInRlbXA3ZGF5Le+8miIgKyBsb2NhdGlvbikKICAgICAgYXhpb3MuZ2V0KGBodHRwczovL2RldmFwaS5xd2VhdGhlci5jb20vdjcvd2VhdGhlci83ZD9sb2NhdGlvbj0ke2xvY2F0aW9ufSZrZXk9JHt0aGlzLiRhcGlLZXl9YCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYWlseQogICAgICAgICAgY29uc29sZS5sb2coIj09PT09Ym90dG9tLXRlbXA3ZGF5LT09PT09PT0iKTsKICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAvLyDpgY3ljobmlbDmja7lubblsIblgLzlrZjlhaXlr7nlupTnmoTmlbDnu4TkuK0KICAgICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgLy8g5aSE55CG5pel5pyf5qC85byPCiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBpdGVtLmZ4RGF0ZS5zcGxpdCgnLScpLnNsaWNlKDEpLm1hcChzID0+IFN0cmluZyhOdW1iZXIocykpKS5qb2luKCcuJyk7Ly9pdGVtLmZ4RGF0ZS5zcGxpdCgnLScpLnNsaWNlKDEpLmpvaW4oJy4nKTsgLy8g5bCGICIyMDI0LTA2LTEwIiDovazmjaLkuLogIjA2LjEwIgoKICAgICAgICAgICAgLy8g5a2Y5YKo5pWw5o2u5Yiw5a+55bqU5pWw57uE5LitCiAgICAgICAgICAgIHRoaXMubm93RGF0YS50aW1lLnB1c2goZGF0ZSArICLml6UiKTsKICAgICAgICAgICAgdGhpcy5ub3dEYXRhLnRleHREYXkucHVzaChpdGVtLnRleHREYXkpOwogICAgICAgICAgICB0aGlzLm5vd0RhdGEud2luZERpckRheV93aW5kU2NhbGVEYXkucHVzaChgJHtpdGVtLndpbmREaXJEYXl9ICR7aXRlbS53aW5kU2NhbGVEYXl957qnYCk7CiAgICAgICAgICAgIHRoaXMubm93RGF0YS50ZW1wTWF4LnB1c2goaXRlbS50ZW1wTWF4KTsKICAgICAgICAgICAgdGhpcy5ub3dEYXRhLnRlbXBNaW4ucHVzaChpdGVtLnRlbXBNaW4pOwogICAgICAgICAgICB0aGlzLm5vd0RhdGEucHJlY2lwLnB1c2goaXRlbS5wcmVjaXApOwogICAgICAgICAgICB0aGlzLm5vd0RhdGEudXZJbmRleC5wdXNoKGl0ZW0udXZJbmRleCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm93RGF0YSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBib3R0b20tdGVtcDdkYXkgaW5mbzonLCBlcnJvcik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0ZW1wN2RheSBpbmZvJyk7CiAgICAgICAgICB0aGlzLm5vd0RhdGEudGltZSA9IFsiMjXml6UiLCAiMjbml6UiLCAiMjfml6UiLCAiMjjml6UiLCAiMjnml6UiLCAiMzDml6UiLCAiMzHml6UiXTsgICAgIC8v5pe26Ze0CiAgICAgICAgICB0aGlzLm5vd0RhdGEudGV4dERheSA9IFsi5bCP6ZuoIiwgIuWwj+mbqCIsICLpmLQiLCAi5bCP6ZuoIiwgIuWkmuS6kSIsICLlsI/pm6giLCAi5bCP6ZuoIl07ICAvL+eZveWkqeWkqeawlOaPj+i/sAogICAgICAgICAgdGhpcy5ub3dEYXRhLndpbmREaXJEYXlfd2luZFNjYWxlRGF5ID0gWyLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyIsICLkuJzljJfpo44gMee6pyJdOyAvL+mjjuWQkemjjumAnwogICAgICAgICAgdGhpcy5ub3dEYXRhLnRlbXBNYXggPSBbIjE2LjMiLCAiMTYuMiIsICIxNy42IiwgIjE0LjIiLCAiMTcuNiIsICIyNS43IiwgIjE0LjMiXTsgIC8v5pyA6auY5rCU5ripCiAgICAgICAgICB0aGlzLm5vd0RhdGEudGVtcE1pbiA9IFsiMTMuNCIsICIxMi44IiwgIjEzLjUiLCAiMTIuNSIsICIxMi40IiwgIjEzLjIiLCAiMTMiXTsgIC8v5pyA5L2O5rCU5ripCiAgICAgICAgICB0aGlzLm5vd0RhdGEucHJlY2lwID0gWyIzLjMiLCAiNi4yIiwgIjcuNiIsICI0LjIiLCAiNy42IiwgIjUuNyIsICI0LjMiXTsgICAvL+mZjembqOmHjwogICAgICAgICAgdGhpcy5ub3dEYXRhLnV2SW5kZXggPSBbIjMiLCAiNiIsICI2IiwgIjIiLCAiNiIsICI3IiwgIjQiXTsgLy/ntKvlpJbnur/lvLrluqYKICAgICAgICB9KTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/echart/bottom/bottomLeftChart","sourcesContent":["<!--\n * @Author: 洛白BG 642160753@qq.com\n * @Date: 2024-05-20 11:04:24\n * @LastEditors: 洛白BG 642160753@qq.com\n * @LastEditTime: 2024-06-13 10:37:38\n * @Description: \n-->\n<template>\n  <div>\n    <Chart :cdata=\"nowData\" />\n  </div>\n</template>\n\n<script>\nimport Chart from './chart.vue'\nimport axios from 'axios'\nimport { mapState } from 'vuex';\nexport default {\n  computed: {\n    ...mapState({\n      region: state => state.region,\n    }),\n  },\n  watch: {\n    'region.id': function (newId) {\n      if (newId) {\n        //alert(\"temp7day 监听到地区值改变，开始轮询数据:\" + newId)\n        this.getWeatherInfo(newId);\n      }\n    }\n  },\n  mounted() {\n    if (this.region.id) {\n      //alert(\"temp7daty 有\")\n      this.getWeatherInfo(this.region.id);\n    }\n  },\n  data() {\n    return {\n      nowData: {\n        time: [],     //时间\n        textDay: [],  //白天天气描述\n        windDirDay_windScaleDay: [],  //风向风速\n        tempMax: [],  //最高气温\n        tempMin: [],  //最低气温\n        precip: [],   //降雨量\n        uvIndex: [],  //紫外线强度\n      },\n    };\n  },\n  components: {\n    Chart,\n  },\n  methods: {\n    getWeatherInfo(location) {\n      //const location = this.$store.getters.getRegionId;\n      //alert(\"temp7day-：\" + location)\n      axios.get(`https://devapi.qweather.com/v7/weather/7d?location=${location}&key=${this.$apiKey}`)\n        .then(response => {\n          const data = response.data.daily\n          console.log(\"=====bottom-temp7day-=======\");\n          //console.log(data);\n          // 遍历数据并将值存入对应的数组中\n          data.forEach(item => {\n            // 处理日期格式\n            const date = item.fxDate.split('-').slice(1).map(s => String(Number(s))).join('.');//item.fxDate.split('-').slice(1).join('.'); // 将 \"2024-06-10\" 转换为 \"06.10\"\n\n            // 存储数据到对应数组中\n            this.nowData.time.push(date + \"日\");\n            this.nowData.textDay.push(item.textDay);\n            this.nowData.windDirDay_windScaleDay.push(`${item.windDirDay} ${item.windScaleDay}级`);\n            this.nowData.tempMax.push(item.tempMax);\n            this.nowData.tempMin.push(item.tempMin);\n            this.nowData.precip.push(item.precip);\n            this.nowData.uvIndex.push(item.uvIndex);\n          });\n          console.log(this.nowData)\n        })\n        .catch(error => {\n          console.error('Error fetching bottom-temp7day info:', error);\n          this.$message.error('Error fetching temp7day info');\n          this.nowData.time = [\"25日\", \"26日\", \"27日\", \"28日\", \"29日\", \"30日\", \"31日\"];     //时间\n          this.nowData.textDay = [\"小雨\", \"小雨\", \"阴\", \"小雨\", \"多云\", \"小雨\", \"小雨\"];  //白天天气描述\n          this.nowData.windDirDay_windScaleDay = [\"东北风 1级\", \"东北风 1级\", \"东北风 1级\", \"东北风 1级\", \"东北风 1级\", \"东北风 1级\", \"东北风 1级\"]; //风向风速\n          this.nowData.tempMax = [\"16.3\", \"16.2\", \"17.6\", \"14.2\", \"17.6\", \"25.7\", \"14.3\"];  //最高气温\n          this.nowData.tempMin = [\"13.4\", \"12.8\", \"13.5\", \"12.5\", \"12.4\", \"13.2\", \"13\"];  //最低气温\n          this.nowData.precip = [\"3.3\", \"6.2\", \"7.6\", \"4.2\", \"7.6\", \"5.7\", \"4.3\"];   //降雨量\n          this.nowData.uvIndex = [\"3\", \"6\", \"6\", \"2\", \"6\", \"7\", \"4\"]; //紫外线强度\n        });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>"]}]}