{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\vue\\screen-vue-datav\\src\\components\\echart\\center\\polluting-elements\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\components\\echart\\center\\polluting-elements\\index.vue","mtime":1717930961841},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js","mtime":1716778785207}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQudnVlJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIHJlZ2lvbjogc3RhdGUgPT4gc3RhdGUucmVnaW9uLAogICAgfSksCiAgfSwKICB3YXRjaDogewogICAgJ3JlZ2lvbi5pZCc6IGZ1bmN0aW9uIChuZXdJZCkgewogICAgICBpZiAobmV3SWQpIHsKICAgICAgICAvL2FsZXJ0KCLnqbrmsJTlhYPntKBpbmRleCDnm5HlkKzliLDlnLDljLrlgLzmlLnlj5g6IiArIG5ld0lkKQogICAgICAgIHRoaXMuZ2V0QWlySW5mbyhuZXdJZCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5yZWdpb24uaWQpIHsKICAgICAgLy9hbGVydCgi56m65rCU5YWD57SgaW5kZXgg5pyJIikKICAgICAgdGhpcy5nZXRBaXJJbmZvKHRoaXMucmVnaW9uLmlkKTsKICAgIH0gCiAgICAvLyBlbHNlIHsKICAgIC8vICAgYWxlcnQoIuepuuawlOWFg+e0oGluZGV4IOayoeaciSIpCiAgICAvLyB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2RhdGE6IHsKICAgICAgICB4RGF0YTogWyJQTTIuNSIsICJQTTEwIiwgIk/igoMiLCAiTk/igoIiLCAiU0/igoIiLCAiQ08iXSwKICAgICAgICBzZXJpZXNEYXRhOiBbXQogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDaGFydCwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFpckluZm8obG9jYXRpb24pIHsKICAgICAgYXhpb3MuZ2V0KGBodHRwczovL2RldmFwaS5xd2VhdGhlci5jb20vdjcvYWlyL25vdz9sb2NhdGlvbj0ke2xvY2F0aW9ufSZrZXk9JHt0aGlzLiRhcGlLZXl9YCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YS5ub3c7CiAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PeepuuawlOWFg+e0oGluZGV4PT09PT09Iik7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgLy8g5bCG5pWw5o2u6LWL5YC857uZY2RhdGHlr7nosaEKICAgICAgICAgIHRoaXMuY2RhdGEuc2VyaWVzRGF0YSA9IFsKICAgICAgICAgICAgeyB2YWx1ZTogZGF0YS5wbTJwNSwgbmFtZTogIlBNMi41IiwgdW5pdDogIs68Zy9twrMiIH0sCiAgICAgICAgICAgIHsgdmFsdWU6IGRhdGEucG0xMCwgbmFtZTogIlBNMTAiLCB1bml0OiAizrxnL23CsyIgfSwKICAgICAgICAgICAgeyB2YWx1ZTogZGF0YS5vMyAqIDIsIG5hbWU6ICJP4oKDIiwgdW5pdDogIs68Zy9twrMiIH0sCiAgICAgICAgICAgIHsgdmFsdWU6IGRhdGEubm8yICogMS45LCBuYW1lOiAiTk/igoIiLCB1bml0OiAizrxnL23CsyIgfSwKICAgICAgICAgICAgeyB2YWx1ZTogZGF0YS5zbzIgKiAyLjYsIG5hbWU6ICJTT+KCgiIsIHVuaXQ6ICLOvGcvbcKzIiB9LAogICAgICAgICAgICB7IHZhbHVlOiBkYXRhLmNvICogMTE0LjYsIG5hbWU6ICJDTyIsIHVuaXQ6ICLOvGcvbcKzIiB9CiAgICAgICAgICBdCgogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIFdhcm5pbmcgaW5mbzonLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/echart/center/polluting-elements","sourcesContent":["<template>\n  <div>\n    <Chart :cdata=\"cdata\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Chart from './chart.vue';\nimport { mapState } from 'vuex';\nexport default {\n  computed: {\n    ...mapState({\n      region: state => state.region,\n    }),\n  },\n  watch: {\n    'region.id': function (newId) {\n      if (newId) {\n        //alert(\"空气元素index 监听到地区值改变:\" + newId)\n        this.getAirInfo(newId);\n      }\n    }\n  },\n  mounted() {\n    if (this.region.id) {\n      //alert(\"空气元素index 有\")\n      this.getAirInfo(this.region.id);\n    } \n    // else {\n    //   alert(\"空气元素index 没有\")\n    // }\n  },\n  data() {\n    return {\n      cdata: {\n        xData: [\"PM2.5\", \"PM10\", \"O₃\", \"NO₂\", \"SO₂\", \"CO\"],\n        seriesData: []\n      }\n    }\n  },\n  components: {\n    Chart,\n  },\n  methods: {\n    getAirInfo(location) {\n      axios.get(`https://devapi.qweather.com/v7/air/now?location=${location}&key=${this.$apiKey}`)\n        .then(response => {\n          const data = response.data.now;\n          console.log(\"=======空气元素index======\");\n          //console.log(data);\n          // 将数据赋值给cdata对象\n          this.cdata.seriesData = [\n            { value: data.pm2p5, name: \"PM2.5\", unit: \"μg/m³\" },\n            { value: data.pm10, name: \"PM10\", unit: \"μg/m³\" },\n            { value: data.o3 * 2, name: \"O₃\", unit: \"μg/m³\" },\n            { value: data.no2 * 1.9, name: \"NO₂\", unit: \"μg/m³\" },\n            { value: data.so2 * 2.6, name: \"SO₂\", unit: \"μg/m³\" },\n            { value: data.co * 114.6, name: \"CO\", unit: \"μg/m³\" }\n          ]\n\n        })\n        .catch(error => {\n          console.error('Error fetching Warning info:', error);\n        });\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>"]}]}