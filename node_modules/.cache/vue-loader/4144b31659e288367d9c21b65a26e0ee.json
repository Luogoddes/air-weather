{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\vue\\screen-vue-datav\\src\\components\\WeatherWarning.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\components\\WeatherWarning.vue","mtime":1717831526217},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js","mtime":1716778785207}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdXZWF0aGVyQWxlcnQnLA0KICBwcm9wczogew0KICAgIHdhcm5pbmdzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjdXJyZW50SW5kZXg6IDANCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcHJldigpIHsNCiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gKHRoaXMuY3VycmVudEluZGV4IC0gMSArIHRoaXMud2FybmluZ3MubGVuZ3RoKSAlIHRoaXMud2FybmluZ3MubGVuZ3RoOw0KICAgIH0sDQogICAgbmV4dCgpIHsNCiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gKHRoaXMuY3VycmVudEluZGV4ICsgMSkgJSB0aGlzLndhcm5pbmdzLmxlbmd0aDsNCiAgICB9LA0KICAgIGZvcm1hdERhdGVUaW1lKGRhdGVUaW1lKSB7DQogICAgICByZXR1cm4gZGF0ZVRpbWUuc2xpY2UoMCwgMTYpOw0KICAgIH0sDQogICAgZ2V0U2V2ZXJpdHlMZXZlbCh0aXRsZSkgew0KICAgICAgbGV0IGxldmVsQ29sb3I9J+iTneiJsumihOitpic7DQogICAgICBpZiAodGl0bGUuaW5jbHVkZXMoJ+m7hOiJsumihOitpicpKSBsZXZlbENvbG9yPSfpu4ToibLpooToraYnOw0KICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKCfmqZnoibLpooToraYnKSkgbGV2ZWxDb2xvcj0n5qmZ6Imy6aKE6K2mJzsNCiAgICAgIGlmICh0aXRsZS5pbmNsdWRlcygn57qi6Imy6aKE6K2mJykpIGxldmVsQ29sb3I9J+e6ouiJsumihOitpic7DQogICAgICBjb25zdCBtYXRjaCA9IHRpdGxlLm1hdGNoKC8oXFsoXFMrKee6pykvKTsNCiAgICAgIGNvbnN0IGxldmVsID0gbWF0Y2hbMl07DQogICAgICByZXR1cm4gbWF0Y2ggPyBgJHtsZXZlbH3nuqcgJHtsZXZlbENvbG9yfWAgOiAnJzsNCiAgICB9LA0KICAgIGdldFNldmVyaXR5Q2xhc3ModGl0bGUpIHsNCiAgICAgIGlmICh0aXRsZS5pbmNsdWRlcygn6JOd6Imy6aKE6K2mJykpIHJldHVybiAnYmx1ZSc7DQogICAgICBpZiAodGl0bGUuaW5jbHVkZXMoJ+m7hOiJsumihOitpicpKSByZXR1cm4gJ3llbGxvdyc7DQogICAgICBpZiAodGl0bGUuaW5jbHVkZXMoJ+apmeiJsumihOitpicpKSByZXR1cm4gJ29yYW5nZSc7DQogICAgICBpZiAodGl0bGUuaW5jbHVkZXMoJ+e6ouiJsumihOitpicpKSByZXR1cm4gJ3JlZCc7DQogICAgICByZXR1cm4gJyc7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["WeatherWarning.vue"],"names":[],"mappings":";AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WeatherWarning.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"weather-alert-container\">\r\n    <div v-if=\"warnings.length > 1\" class=\"carousel\">\r\n      <div class=\"carousel-inner\" :style=\"{ transform: `translateX(-${currentIndex * 100}%)` }\">\r\n        <div v-for=\"warning in warnings\" :key=\"warning.id\" class=\"carousel-item\">\r\n          <div class=\"alert-card\">\r\n            <h3>{{ warning.title }}</h3>\r\n            <p style=\"margin-top: 7px;\">\r\n              <strong>开始时间:</strong> {{ formatDateTime(warning.startTime) }}\r\n            </p>\r\n            <p><strong>结束时间:</strong> {{ formatDateTime(warning.endTime) }}</p>\r\n            <p>状态:<strong style=\"color: greenyellow;\"> {{ warning.status }}</strong></p>\r\n            <p>\r\n              <strong>严重等级:</strong>\r\n              <span :class=\"getSeverityClass(warning.title)\">\r\n                {{ getSeverityLevel(warning.title) }}\r\n              </span>\r\n            </p>\r\n            <p>类型:<strong style=\"color: greenyellow;\">{{ warning.typeName }}</strong> </p>\r\n            <p v-if=\"warning.urgency\"><strong>紧迫性:</strong> {{ warning.urgency }}</p>\r\n            <p><strong>详情:</strong> {{ warning.text }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button @click=\"prev\" class=\"carousel-control prev\">&lt;</button>\r\n      <button @click=\"next\" class=\"carousel-control next\">&gt;</button>\r\n    </div>\r\n    <div v-else-if=\"warnings.length === 1\" class=\"alert-card\">\r\n      <h3>{{ warnings[0].title }}</h3>\r\n      <p><strong>开始时间:</strong> {{ formatDateTime(warnings[0].startTime) }}</p>\r\n      <p><strong>结束时间:</strong> {{ formatDateTime(warnings[0].endTime) }}</p>\r\n      <p>状态:<strong style=\"color: greenyellow;\">{{ warnings[0].status }}</strong> </p>\r\n      <p>\r\n        <strong>严重等级:</strong>\r\n        <span :class=\"getSeverityClass(warnings[0].title)\">\r\n          {{ getSeverityLevel(warnings[0].title) }}\r\n        </span>\r\n      </p>\r\n      <p>类型:<strong style=\"color: greenyellow;\">{{ warnings[0].typeName }}</strong> </p>\r\n      <p v-if=\"warnings[0].urgency\"><strong>紧迫性:</strong> {{ warnings[0].urgency }}</p>\r\n      <p><strong>详情:</strong> {{ warnings[0].text }}</p>\r\n    </div>\r\n    <div v-else class=\"alert-card no-warning\">\r\n      <p>暂无预警</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'WeatherAlert',\r\n  props: {\r\n    warnings: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentIndex: 0\r\n    };\r\n  },\r\n  methods: {\r\n    prev() {\r\n      this.currentIndex = (this.currentIndex - 1 + this.warnings.length) % this.warnings.length;\r\n    },\r\n    next() {\r\n      this.currentIndex = (this.currentIndex + 1) % this.warnings.length;\r\n    },\r\n    formatDateTime(dateTime) {\r\n      return dateTime.slice(0, 16);\r\n    },\r\n    getSeverityLevel(title) {\r\n      let levelColor='蓝色预警';\r\n      if (title.includes('黄色预警')) levelColor='黄色预警';\r\n      if (title.includes('橙色预警')) levelColor='橙色预警';\r\n      if (title.includes('红色预警')) levelColor='红色预警';\r\n      const match = title.match(/(\\[(\\S+)级)/);\r\n      const level = match[2];\r\n      return match ? `${level}级 ${levelColor}` : '';\r\n    },\r\n    getSeverityClass(title) {\r\n      if (title.includes('蓝色预警')) return 'blue';\r\n      if (title.includes('黄色预警')) return 'yellow';\r\n      if (title.includes('橙色预警')) return 'orange';\r\n      if (title.includes('红色预警')) return 'red';\r\n      return '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.weather-alert-container {\r\n  width: 270px;\r\n  height: 350px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n}\r\n\r\n.carousel {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.carousel-inner {\r\n  display: flex;\r\n  transition: transform 0.5s ease-in-out;\r\n}\r\n\r\n.carousel-item {\r\n  min-width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.alert-card {\r\n  padding: 10px;\r\n  background-color: #00000000;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.alert-card.no-warning {\r\n  background-color: #e0ffe000;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: green;\r\n  font-size: 20px; /* 调整字体大小为所需大小 */\r\n}\r\n\r\n.carousel-control {\r\n  position: absolute;\r\n  top: 95%;\r\n  transform: translateY(-50%);\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n}\r\n\r\n.margintop3 {\r\n  margin-top: 3px;\r\n}\r\n\r\np {\r\n  margin-top: 3px;\r\n}\r\n\r\n.carousel-control.prev {\r\n  left: 10px;\r\n}\r\n\r\n.carousel-control.next {\r\n  right: 10px;\r\n}\r\n\r\n.blue {\r\n  color: blue;\r\n}\r\n\r\n.yellow {\r\n  color: yellow;\r\n}\r\n\r\n.orange {\r\n  color: orange;\r\n}\r\n\r\n.red {\r\n  color: red;\r\n}\r\n</style>\r\n"]}]}