{"remainingRequest":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\vue\\screen-vue-datav\\src\\views\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\code\\vue\\screen-vue-datav\\src\\views\\index.vue","mtime":1718205558662},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\babel-loader\\lib\\index.js","mtime":1716778784730},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716778783793},{"path":"E:\\code\\vue\\screen-vue-datav\\node_modules\\vue-loader\\lib\\index.js","mtime":1716778785207}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgcGNhVGV4dEFyciB9IGZyb20gImVsZW1lbnQtY2hpbmEtYXJlYS1kYXRhIjsvL+S4iee6p+iBlOWKqO+8iOecgeOAgeW4guOAgeWMuu+8iQovL2ltcG9ydCByZWdpb24gZnJvbSAiLi4vY29tcG9uZW50cy9yZWdpb24udnVlIjsKaW1wb3J0IGRyYXdNaXhpbiBmcm9tICIuLi91dGlscy9kcmF3TWl4aW4iOwppbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXguanMnCmltcG9ydCBjZW50ZXJMZWZ0MSBmcm9tICcuL2NlbnRlckxlZnQxJwppbXBvcnQgY2VudGVyTGVmdDIgZnJvbSAnLi9jZW50ZXJMZWZ0MicKaW1wb3J0IGNlbnRlclJpZ2h0MSBmcm9tICcuL2NlbnRlclJpZ2h0MScKaW1wb3J0IGNlbnRlclJpZ2h0MiBmcm9tICcuL2NlbnRlclJpZ2h0MicKaW1wb3J0IGNlbnRlciBmcm9tICcuL2NlbnRlcicKaW1wb3J0IGJvdHRvbUxlZnQgZnJvbSAnLi9ib3R0b21MZWZ0JwppbXBvcnQgYm90dG9tUmlnaHQgZnJvbSAnLi9ib3R0b21SaWdodCcKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZHJhd01peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltaW5nOiBudWxsLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBkYXRlRGF5OiBudWxsLAogICAgICBkYXRlWWVhcjogbnVsbCwKICAgICAgZGF0ZVdlZWs6IG51bGwsCiAgICAgIHdlZWtkYXk6IFsn5ZGo5pelJywgJ+WRqOS4gCcsICflkajkuownLCAn5ZGo5LiJJywgJ+WRqOWbmycsICflkajkupQnLCAn5ZGo5YWtJ10sCiAgICAgIGRlY29yYXRpb25Db2xvcjogWycjNTY4YWVhJywgJyMwMDAwMDAnXSwKICAgICAgcGNhVGV4dEFyciwKICAgICAgc2VsZWN0ZWRPcHRpb25zOiBbXSwvL+S4iee6p+iBlOWKqO+8iOecgeOAgeW4guOAgeWMuu+8iQogICAgICBkaWFsb2dSZWdpb25WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVnaW9uOiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBpZDogbnVsbCwKICAgICAgICBpcDogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRSZWdpb25JcCwKICAgICAgICBsYXQ6IG51bGwsCiAgICAgICAgbG9uOiBudWxsLAogICAgICAgIEpXRDogbnVsbAogICAgICB9LAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgY2VudGVyTGVmdDEsCiAgICBjZW50ZXJMZWZ0MiwKICAgIGNlbnRlclJpZ2h0MSwKICAgIGNlbnRlclJpZ2h0MiwKICAgIGNlbnRlciwKICAgIGJvdHRvbUxlZnQsCiAgICBib3R0b21SaWdodAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudGltZUZuKCkKICAgIHRoaXMuY2FuY2VsTG9hZGluZygpCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWluZykKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydzZXRUaGVtZSddKSwKICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6YCJ5oup55qE5Li76aKY5Li677yaJyArIGNvbW1hbmQpOwogICAgICAgIENvb2tpZXMuc2V0KCd0aGVtZScsIGNvbW1hbmQsIHsgZXhwaXJlczogMzY1IH0pOyAvLyDorr7nva5Db29raWXvvIzov4fmnJ/ml7bpl7TkuLozNjXlpKkKICAgICAgICB0aGlzLnNldFRoZW1lKGNvbW1hbmQpOwogICAgICAgIAogICAgICB9LAogICAgdGltZUZuKCkgewogICAgICB0aGlzLnRpbWluZyA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLmRhdGVEYXkgPSBmb3JtYXRUaW1lKG5ldyBEYXRlKCksICdISDogbW06IHNzJykKICAgICAgICB0aGlzLmRhdGVZZWFyID0gZm9ybWF0VGltZShuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpCiAgICAgICAgdGhpcy5kYXRlV2VlayA9IHRoaXMud2Vla2RheVtuZXcgRGF0ZSgpLmdldERheSgpXQogICAgICB9LCAxMDAwKQogICAgfSwKICAgIGNhbmNlbExvYWRpbmcoKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0sIDYwMCkKICAgIH0sCiAgICBjaGFuZ2VJUCgpIHsKICAgICAgLy/liKDpmaRjb29raWXph4znmoRyZWdpb24KICAgICAgdGhpcy4kY29va2llLnJlbW92ZSgncmVnaW9uJyk7CiAgICAgIC8v5Yi35paw5pW05Liq6aG16Z2iCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICBzYXZlRGF0YSgpIHsKICAgICAgY29uc29sZS5sb2coJ1NlbGVjdGVkIE9wdGlvbnM6JywgdGhpcy5zZWxlY3RlZE9wdGlvbnNbMl0pCiAgICAgIC8vIOmmluWFiOWIpOaWrSBzZWxlY3RlZE9wdGlvbnMg5piv5ZCm5Li656m6CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9ucy5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6YCJ6aG5JykKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDosIPnlKggZ2V0R2VvSW5mbyDmlrnms5UKICAgICAgICB0aGlzLmdldEdlb0luZm8odGhpcy5zZWxlY3RlZE9wdGlvbnMpOwogICAgICB9CgogICAgfSwKICAgIGdldEdlb0luZm8obG9jYXRpb24pIHsKICAgICAgYXhpb3MuZ2V0KGBodHRwczovL2dlb2FwaS5xd2VhdGhlci5jb20vdjIvY2l0eS9sb29rdXA/bG9jYXRpb249JHtsb2NhdGlvbn0ma2V5PTVmMDE3YzZkN2VkYjRhN2JhOWZlNGY0OTFhMjkwMGNhYCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBsZXQgcmVnaW9uID0gcmVzcG9uc2UuZGF0YS5sb2NhdGlvbgogICAgICAgICAgY29uc29sZS5sb2coImluZGV4LWdldEdlb0luZm8iKTsKICAgICAgICAgIC8vY29uc29sZS5sb2cocmVnaW9uKQogICAgICAgICAgLy8g5p+l5om+5Yy56YWNIHRoaXMuc2VsZWN0ZWRPcHRpb25zWzJdIOeahOWFg+e0oAogICAgICAgICAgbGV0IHNlbGVjdGVkUmVnaW9uID0gcmVnaW9uLmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT0gbG9jYXRpb25bMl0ucmVwbGFjZSgv5Yy6JHzljr8kfOW4giQvLCAnJykpOwogICAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRSZWdpb24pCiAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWdpb24pIHsKICAgICAgICAgICAgLy/ojrflj5bpnIDopoHnmoTlsZ7mgKflgLwKICAgICAgICAgICAgdGhpcy5yZWdpb24ubmFtZSA9IGxvY2F0aW9uWzBdICsgbG9jYXRpb25bMV0gKyBsb2NhdGlvblsyXTsKICAgICAgICAgICAgdGhpcy5yZWdpb24uaWQgPSBzZWxlY3RlZFJlZ2lvbi5pZAogICAgICAgICAgICB0aGlzLnJlZ2lvbi5sYXQgPSBzZWxlY3RlZFJlZ2lvbi5sYXQKICAgICAgICAgICAgdGhpcy5yZWdpb24ubG9uID0gc2VsZWN0ZWRSZWdpb24ubG9uCiAgICAgICAgICAgIHRoaXMucmVnaW9uLkpXRCA9IHNlbGVjdGVkUmVnaW9uLmxvbiArICcsJyArIHNlbGVjdGVkUmVnaW9uLmxhdAoKICAgICAgICAgICAgLy8g5L+d5a2Y5YiwY29va2llCiAgICAgICAgICAgIHRoaXMuJGNvb2tpZS5zZXQoInJlZ2lvbiIsIEpTT04uc3RyaW5naWZ5KHRoaXMucmVnaW9uKSkKCiAgICAgICAgICAgIC8vIOS/neWtmOWIsHZ1ZXgKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRMb2NhdGlvbkRhdGEnLCB0aGlzLnJlZ2lvbikKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZ2lvbiBub3QgZm91bmQnKQogICAgICAgICAgfQogICAgICAgICAgLy90aGlzLnN0b3JlRGF0YSgpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ2VvIGluZm86JywgZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBzdG9yZURhdGEoKSB7CiAgICAgIC8vIOWcqOi/memHjOWunueOsOS/neWtmOaVsOaNrueahOmAu+i+kQogICAgICBjb25zb2xlLmxvZygn5pWw5o2u5bey5L+d5a2YJykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"index\" ref=\"appRef\">\n    <div class=\"bg\">\n      <dv-loading v-if=\"loading\">Loading...</dv-loading>\n      <div v-else class=\"host-body\">\n        <div class=\"d-flex jc-center\">\n          <dv-decoration-10 class=\"dv-dec-10\" />\n          <div class=\"d-flex jc-center\">\n            <dv-decoration-8 class=\"dv-dec-8\" :color=\"decorationColor\" />\n            <div class=\"title\">\n              <span class=\"title-text\">全方位天气状况监控</span>\n              <dv-decoration-6 class=\"dv-dec-6\" :reverse=\"true\" :color=\"['#50e3c2', '#67a1e5']\" />\n            </div>\n            <dv-decoration-8 class=\"dv-dec-8\" :reverse=\"true\" :color=\"decorationColor\" />\n          </div>\n          <dv-decoration-10 class=\"dv-dec-10-s\" />\n        </div>\n\n        <!-- 第二行 -->\n        <div class=\"d-flex jc-between px-2\">\n          <div class=\"d-flex aside-width\">\n            <div class=\"react-left ml-4 react-l-s\">\n              <span class=\"react-left\"></span>\n              <span class=\"text\">地区：\n                <el-cascader size=\"large\" :options=\"pcaTextArr\" v-model=\"selectedOptions\"\n                  style=\"width: 300px;background-color: #ffffff14 !important;\">\n                </el-cascader>\n                <el-link @click=\"saveData()\" type=\"primary\" style=\"margin-left: 10px;font-size: large;\">保存</el-link>\n\n              </span>\n\n            </div>\n            <div class=\"react-left ml-3\">\n              <span class=\"text\" v-if=\"this.$store.getters.getRegionIp != ''\">\n                {{ this.$store.getters.getRegionIp }}\n              </span>\n              <el-link class=\"text\" v-else @click=\"changeIP()\" type=\"primary\" style=\"font-size: large;\">\n                使用IP地址\n              </el-link>\n\n\n            </div>\n          </div>\n          <div class=\"d-flex aside-width\">\n            <div class=\"react-right bg-color-blue mr-3\">\n              <span class=\"text fw-b\">\n                {{ this.$store.getters.getRegionName }}\n              </span>\n            </div>\n            <div class=\"react-right mr-4 react-l-s\">\n              <span class=\"react-after\"></span>\n              <span class=\"text\" style=\"margin-right: 15px;\">\n                <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n                  <span class=\"el-dropdown-link\">\n                    选择主题<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                  </span>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item command=\"default\">默认</el-dropdown-item>\n                    <el-dropdown-item command=\"shine\">shine</el-dropdown-item>\n                    <el-dropdown-item command=\"macarons\">macarons</el-dropdown-item>\n                    <el-dropdown-item command=\"infographic\">infographic</el-dropdown-item>\n                    <el-dropdown-item command=\"roma\">roma</el-dropdown-item>\n                    <el-dropdown-item command=\"wonderland\">wonderland</el-dropdown-item>\n                    <el-dropdown-item command=\"walden\">walden</el-dropdown-item>\n                    <el-dropdown-item command=\"essos\">essos</el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown></span>\n              <span class=\"text\">{{ dateYear }} {{ dateWeek }} {{ dateDay }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"body-box\">\n          <!-- 第三行数据 -->\n          <div class=\"content-box\">\n            <div>\n              <dv-border-box-12>\n                <centerLeft1 />\n              </dv-border-box-12>\n            </div>\n            <div>\n              <dv-border-box-12>\n                <centerLeft2 />\n              </dv-border-box-12>\n            </div>\n            <!-- 中间 -->\n            <div>\n              <center />\n            </div>\n            <!-- 中间 -->\n            <div>\n              <centerRight2 />\n            </div>\n            <div>\n              <dv-border-box-13>\n                <centerRight1 />\n              </dv-border-box-13>\n            </div>\n          </div>\n\n          <!-- 第四行数据 -->\n          <div class=\"bottom-box\">\n            <dv-border-box-13>\n              <bottomLeft />\n            </dv-border-box-13>\n            <dv-border-box-12>\n              <bottomRight />\n            </dv-border-box-12>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions } from 'vuex';\nimport { pcaTextArr } from \"element-china-area-data\";//三级联动（省、市、区）\n//import region from \"../components/region.vue\";\nimport drawMixin from \"../utils/drawMixin\";\nimport { formatTime } from '../utils/index.js'\nimport centerLeft1 from './centerLeft1'\nimport centerLeft2 from './centerLeft2'\nimport centerRight1 from './centerRight1'\nimport centerRight2 from './centerRight2'\nimport center from './center'\nimport bottomLeft from './bottomLeft'\nimport bottomRight from './bottomRight'\nimport Cookies from 'js-cookie'\nexport default {\n  mixins: [drawMixin],\n  data() {\n    return {\n      timing: null,\n      loading: true,\n      dateDay: null,\n      dateYear: null,\n      dateWeek: null,\n      weekday: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\n      decorationColor: ['#568aea', '#000000'],\n      pcaTextArr,\n      selectedOptions: [],//三级联动（省、市、区）\n      dialogRegionVisible: false,\n      region: {\n        name: null,\n        id: null,\n        ip: this.$store.getters.getRegionIp,\n        lat: null,\n        lon: null,\n        JWD: null\n      },\n    }\n  },\n  components: {\n    centerLeft1,\n    centerLeft2,\n    centerRight1,\n    centerRight2,\n    center,\n    bottomLeft,\n    bottomRight\n  },\n  mounted() {\n    this.timeFn()\n    this.cancelLoading()\n  },\n  beforeDestroy() {\n    clearInterval(this.timing)\n  },\n  methods: {\n    ...mapActions(['setTheme']),\n    handleCommand(command) {\n        this.$message.success('选择的主题为：' + command);\n        Cookies.set('theme', command, { expires: 365 }); // 设置Cookie，过期时间为365天\n        this.setTheme(command);\n        \n      },\n    timeFn() {\n      this.timing = setInterval(() => {\n        this.dateDay = formatTime(new Date(), 'HH: mm: ss')\n        this.dateYear = formatTime(new Date(), 'yyyy-MM-dd')\n        this.dateWeek = this.weekday[new Date().getDay()]\n      }, 1000)\n    },\n    cancelLoading() {\n      setTimeout(() => {\n        this.loading = false\n      }, 600)\n    },\n    changeIP() {\n      //删除cookie里的region\n      this.$cookie.remove('region');\n      //刷新整个页面\n      window.location.reload();\n    },\n    saveData() {\n      console.log('Selected Options:', this.selectedOptions[2])\n      // 首先判断 selectedOptions 是否为空\n      if (this.selectedOptions.length == 0) {\n        this.$message.warning('请选择选项')\n      } else {\n        // 调用 getGeoInfo 方法\n        this.getGeoInfo(this.selectedOptions);\n      }\n\n    },\n    getGeoInfo(location) {\n      axios.get(`https://geoapi.qweather.com/v2/city/lookup?location=${location}&key=5f017c6d7edb4a7ba9fe4f491a2900ca`)\n        .then(response => {\n          let region = response.data.location\n          console.log(\"index-getGeoInfo\");\n          //console.log(region)\n          // 查找匹配 this.selectedOptions[2] 的元素\n          let selectedRegion = region.find(item => item.name == location[2].replace(/区$|县$|市$/, ''));\n          console.log(selectedRegion)\n          if (selectedRegion) {\n            //获取需要的属性值\n            this.region.name = location[0] + location[1] + location[2];\n            this.region.id = selectedRegion.id\n            this.region.lat = selectedRegion.lat\n            this.region.lon = selectedRegion.lon\n            this.region.JWD = selectedRegion.lon + ',' + selectedRegion.lat\n\n            // 保存到cookie\n            this.$cookie.set(\"region\", JSON.stringify(this.region))\n\n            // 保存到vuex\n            this.$store.commit('setLocationData', this.region)\n            window.location.reload()\n            this.$message.success('保存成功')\n          } else {\n            console.error('Region not found')\n          }\n          //this.storeData()\n        })\n        .catch(error => {\n          console.error('Error fetching geo info:', error)\n        })\n    },\n    storeData() {\n      // 在这里实现保存数据的逻辑\n      console.log('数据已保存')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.el-input__inner {\n  background-color: transparent !important;\n  color: aliceblue;\n}\n\n@import '../assets/scss/index.scss';\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #409EFF;\n  font-size: 19px;\n}\n\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n</style>\n"]}]}